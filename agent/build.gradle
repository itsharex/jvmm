version '0.1'

dependencies {
    compile(project(':common'))
}

jar {
    manifestContentCharset 'utf-8'
    metadataCharset 'utf-8'

    manifest {
        attributes("Premain-Class": "org.beifengtz.jvmm.agent.AgentBootStrap",
                "Agent-Class": "org.beifengtz.jvmm.agent.AgentBootStrap",
                "Can-Redefine-Classes": true, "Can-Retransform-Classes": true)
    }
    archiveName("jvmm-agent.jar")

    from {
        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    }
}